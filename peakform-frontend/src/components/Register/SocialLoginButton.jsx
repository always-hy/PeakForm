import { API_URL } from "@/config";
import React from "react";

function SocialLoginButton({ provider, baseUrl = `${API_URL}` }) {
  const getIcon = () => {
    switch (provider) {
      case "google":
        return (
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="google-icon"
            style={{ width: "17.075px", height: "17.075px" }}
          >
            <g clipPath="url(#clip0_google)">
              <path
                d="M17.3712 7.44551H16.6835V7.41008H8.99988V10.825H13.8248C13.1209 12.8129 11.2294 14.24 8.99988 14.24C6.17103 14.24 3.87747 11.9464 3.87747 9.11755C3.87747 6.2887 6.17103 3.99514 8.99988 3.99514C10.3057 3.99514 11.4936 4.48775 12.3982 5.29239L14.813 2.8776C13.2882 1.45656 11.2486 0.5802 8.99988 0.5802C4.28512 0.5802 0.462524 4.4028 0.462524 9.11755C0.462524 13.8323 4.28512 17.6549 8.99988 17.6549C13.7146 17.6549 17.5372 13.8323 17.5372 9.11755C17.5372 8.54512 17.4783 7.98635 17.3712 7.44551Z"
                fill="#FFC107"
              ></path>
              <path
                d="M1.44629 5.14384L4.25124 7.20092C5.01021 5.32185 6.8483 3.99514 8.99929 3.99514C10.3051 3.99514 11.493 4.48775 12.3976 5.29239L14.8124 2.8776C13.2876 1.45656 11.248 0.5802 8.99929 0.5802C5.72009 0.5802 2.8763 2.43152 1.44629 5.14384Z"
                fill="#FF3D00"
              ></path>
              <path
                d="M9.00004 17.6552C11.2052 17.6552 13.209 16.8113 14.7239 15.4389L12.0816 13.203C11.1956 13.8768 10.1131 14.2412 9.00004 14.2403C6.77947 14.2403 4.894 12.8244 4.18369 10.8484L1.39966 12.9934C2.81259 15.7582 5.68199 17.6552 9.00004 17.6552Z"
                fill="#4CAF50"
              ></path>
              <path
                d="M17.3712 7.44546H16.6835V7.41003H8.99988V10.825H13.8248C13.4881 11.7711 12.8815 12.5978 12.0802 13.2031L12.0814 13.2022L14.7237 15.4381C14.5368 15.608 17.5372 13.3862 17.5372 9.1175C17.5372 8.54508 17.4783 7.98631 17.3712 7.44546Z"
                fill="#1976D2"
              ></path>
            </g>
            <defs>
              <clipPath id="clip0_google">
                <rect
                  x="0.462524"
                  y="0.5802"
                  width="17.075"
                  height="17.075"
                  rx="8.5375"
                  fill="white"
                ></rect>
              </clipPath>
            </defs>
          </svg>
        );
      case "github":
        return (
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="github-icon"
            style={{ width: "17.075px", height: "17.075px" }}
          >
            <g clipPath="url(#clip0_github)">
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M9.00002 0.5802C4.28306 0.5802 0.462524 4.40073 0.462524 9.1177C0.462524 12.8955 2.90638 16.0864 6.30004 17.2177C6.72692 17.2924 6.88699 17.0362 6.88699 16.8121C6.88699 16.6094 6.87632 15.937 6.87632 15.222C4.73128 15.6169 4.17634 14.6991 4.00559 14.2189C3.90954 13.9734 3.49334 13.2157 3.13049 13.0129C2.83168 12.8529 2.40481 12.458 3.11982 12.4473C3.79215 12.4367 4.27238 13.0663 4.43246 13.3224C5.20084 14.6137 6.4281 14.2509 6.91901 14.0268C6.99371 13.4718 7.21782 13.0983 7.46327 12.8849C5.56368 12.6714 3.57871 11.9351 3.57871 8.66948C3.57871 7.74103 3.90954 6.97265 4.45381 6.37503C4.36843 6.16159 4.06962 5.2865 4.53918 4.11259C4.53918 4.11259 5.2542 3.88848 6.88699 4.98768C7.56999 4.79559 8.29568 4.69954 9.02137 4.69954C9.74706 4.69954 10.4727 4.79559 11.1557 4.98768C12.7885 3.87781 13.5036 4.11259 13.5036 4.11259C13.9731 5.2865 13.6743 6.16159 13.5889 6.37503C14.1332 6.97265 14.464 7.73036 14.464 8.66948C14.464 11.9457 12.4684 12.6714 10.5688 12.8849C10.8783 13.1517 11.1451 13.6639 11.1451 14.4643C11.1451 15.6062 11.1344 16.524 11.1344 16.8121C11.1344 17.0362 11.2945 17.303 11.7214 17.2177C13.4162 16.6454 14.8889 15.5562 15.9322 14.1031C16.9756 12.6501 17.537 10.9065 17.5375 9.1177C17.5375 4.40073 13.717 0.5802 9.00002 0.5802Z"
                fill="black"
              ></path>
            </g>
            <defs>
              <clipPath id="clip0_github">
                <rect
                  x="0.462524"
                  y="0.5802"
                  width="17.075"
                  height="17.075"
                  rx="8.5375"
                  fill="white"
                ></rect>
              </clipPath>
            </defs>
          </svg>
        );
      case "facebook":
        return (
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="facebook-icon"
            style={{ width: "17.075px", height: "17.075px" }}
          >
            <g clipPath="url(#clip0_facebook)">
              <path
                d="M17.5376 9.16996C17.5376 4.42525 13.7149 0.579102 9.00008 0.579102C4.28311 0.580169 0.460449 4.42525 0.460449 9.17103C0.460449 13.4579 3.58304 17.0117 7.66397 17.6562V11.6533H5.49757V9.17103H7.6661V7.27677C7.6661 5.12425 8.94139 3.93541 10.8911 3.93541C11.826 3.93541 12.8025 4.10295 12.8025 4.10295V6.21599H11.7257C10.666 6.21599 10.3351 6.87871 10.3351 7.55851V9.16996H12.7022L12.3244 11.6522H10.3341V17.6552C14.415 17.0106 17.5376 13.4569 17.5376 9.16996Z"
                fill="#059BE5"
              ></path>
            </g>
            <defs>
              <clipPath id="clip0_facebook">
                <rect
                  x="0.462524"
                  y="0.5802"
                  width="17.075"
                  height="17.075"
                  rx="8.5375"
                  fill="white"
                ></rect>
              </clipPath>
            </defs>
          </svg>
        );
      default:
        return null;
    }
  };

  const handleClick = (e) => {
    e.preventDefault();
    window.location.href = `${baseUrl}/oauth2/authorization/${provider}`;
    console.log(`Redirecting to ${baseUrl}/oauth2/authorization/${provider}`);
  };

  return (
    <button
      onClick={handleClick}
      className="flex flex-1 justify-center items-center px-0 py-2.5 bg-white rounded-lg border-solid cursor-pointer border-[0.711px] border-stone-300 max-sm:w-full"
      aria-label={`Sign in with ${provider}`}
    >
      {getIcon()}
    </button>
  );
}

export default SocialLoginButton;
